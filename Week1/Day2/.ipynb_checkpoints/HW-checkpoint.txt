from openai import OpenAI
from scraper import fetch_website_contents
from pprint import pprint

OLLAMA_BASE_URL = "http://localhost:11434/v1"
ollama = OpenAI(base_url=OLLAMA_BASE_URL, api_key='ollama')

websummary = "https://edwarddonner.com"
url = "https://www.hsc.com.kh/"

def summarize(url):
    website = fetch_website_contents(url)
    response = ollama.chat.completions.create(
        model="llama3.2", 
        messages = messages_for(website))
    return response.choices[0].message.content

# A function to display this nicely in the output, using markdown

def display_summary(url):
    summary = summarize(url)
    display(Markdown(summary))

# display_summary(websummary)

display_summary(url)